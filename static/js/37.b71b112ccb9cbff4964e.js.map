{"version":3,"sources":["webpack:///src/pages/activity/RotaryDraw.vue","webpack:///./src/pages/activity/RotaryDraw.vue?4829","webpack:///./src/pages/activity/RotaryDraw.vue"],"names":["RotaryDraw","data","labelName","isShowPopup","items","showItem","animation","isAnimation","cycleNumber","rotaryMsg","cnum","components","slider","created","this","goodsParams","getRotaryItem","computed","methods","showPresult","item","code","weixinConfig","_this2","isWeiXinBrowser","GLOBAL","id","$route","params","$api","weixinShare","itemConfig","name","$dialog","toast","mes","timeout","icon","getTurnSharenum","itemid","res","status","getTurnDrawnum","_this3","freeCount","_this","getTurntableDetail","map","r","i","config","coupon","setQuanClass","index","ret","animationOpen","isOpen","arguments","length","undefined","lowSpeed","key","_this4","Speed","Time","EndIndex","cycle","flag","random_num","quick","Star","num","clearInterval","setInterval","EndCycle","parseInt","setTimeout","isLowSpeed","k","filter","handleClickStart","_this5","getTurntableResult","msg","openLuckDraw","$router","push","path","_this6","getTurntableMsg","activity_RotaryDraw","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","background-color","attrs","autoplay","_l","_v","_s","nickname","class","ullit","active","on","click","expression2","expression1","presult","_e","_m","position","width","height","model","value","callback","$$v","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/37.b71b112ccb9cbff4964e.js","sourcesContent":["<template>\r\n    <div class=\"rotary_layer\">\r\n        <div class=\"layer_bg\">\r\n       <div class=\"center\">\r\n           \r\n           <yd-rollnotice autoplay=\"2000\" style=\"background-color:none;\">\r\n                <yd-rollnotice-item v-for=\"(item,index) in rotaryMsg\" :key=\"index\" ><div class=\"name\">恭喜{{item.nickname}}中奖</div></yd-rollnotice-item>\r\n            </yd-rollnotice>\r\n            <ul  :class=\"{'ullit':true,'active':isAnimation}\">\r\n                <div  class=\"but\" v-on:click=\"handleClickStart\">\r\n                    <p>\r\n                        <span>抽奖</span>\r\n                        {{cnum}}次免费抽奖\r\n                    </p>\r\n                    \r\n                </div>\r\n                <li :class=\"setQuanClass(index+1)\" v-for=\"(item,index) in items\" :key=\"index\" >\r\n                    \r\n                    <div v-if=\"item && item.id\" class=\"cen\">\r\n                        <div class=\"quan\">\r\n                            <span>{{item.expression2}}</span>\r\n                            {{item.expression1}}\r\n                        </div>\r\n                        <div class=\"title\">{{showPresult(item.presult[0])}}</div>\r\n                    </div>\r\n                    <div v-if=\"!item || !item.id\" class=\"cen\">\r\n                        <div class=\"quan2\">\r\n                            <i class=\"myfont my-xiexiecanyu\"></i>\r\n                        </div>\r\n                        <div class=\"title\">谢谢参与</div>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n            <div class=\"hr\"></div>\r\n        </div>\r\n        <dl class=\"introduce\">\r\n            <dt>抽奖规则</dt>\r\n            <dd>这里是抽奖需要具备的条件，没人一天消费一次，获得一次免费抽奖机会，第二次可用积分兑换抽奖机会，抽奖越多，获得的抵用券折扣券就越多，折扣券可用来购买指定商品。</dd>\r\n        </dl>\r\n        <!-- 抽奖 -->\r\n        <yd-popup v-model=\"isShowPopup\" position=\"center\" width=\"100%\" height=\"100%\">\r\n            <div class=\"popup_layer\">\r\n                <div class=\"quan_name\">{{showItem.name}}</div>\r\n                <div class=\"quan_center\">\r\n                    <span>{{showItem.expression2}}</span>\r\n                    {{showItem.expression1}}\r\n                </div>\r\n                <div class=\"quan_msg\">请到【个人中心-我的优惠券】查看</div>\r\n                <div class=\"btn\" >\r\n                    <button v-on:click=\"openLuckDraw\" >点击查看</button>\r\n                </div>\r\n            </div>\r\n        </yd-popup>\r\n        </div>    \r\n    </div>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport slider from '../../components/Slider.vue'\r\nexport default {\r\n    data () {\r\n        return {\r\n            labelName: '立即秒杀',\r\n            isShowPopup:false,\r\n            items:[false,false,false,false,false,false,false,false],\r\n            showItem:{},\r\n            animation:0, //开始执行抽奖动\r\n            isAnimation:false,\r\n            cycleNumber:3, //执行圈数\r\n            rotaryMsg:[],\r\n            cnum:1,\r\n\r\n        }\r\n    },\r\n    components: {\r\n        slider, \r\n    },\r\n    created () {\r\n        this.goodsParams();\r\n        this.getRotaryItem();\r\n    },\r\n    computed: {\r\n    },\r\n    methods: {\r\n        showPresult(item){\r\n            switch (item.code) {\r\n                case 'GOODS_REDUCE':                    \r\n                    return '待金券';\r\n                    break;\r\n                case 'GOODS_DISCOUNT':                    \r\n                    return '折扣券';\r\n                    break;\r\n                case 'GOODS_ONE_PRICE':                    \r\n                    return '一口价';\r\n                    break;\r\n                case 'ORDER_REDUCE':                    \r\n                    return '优惠券';\r\n                    break;\r\n                case 'ORDER_DISCOUNT':                    \r\n                    return '折扣券';\r\n                    break;\r\n                default:\r\n                    return '优惠券';\r\n                    break;\r\n            }\r\n        },\r\n        // 获取微信分享配置参数\r\n        weixinConfig () {\r\n            let isWeiXinBrowser = this.GLOBAL.isWeiXinBrowser()\r\n            const {params:{id}} = this.$route;\r\n            if (isWeiXinBrowser) {\r\n                this.$api.weixinShare(this.itemConfig.name || \"幸运大转盘\",'http://www.fivesheept.cn/static/uploads/a9/c6/e9/5ce6bce5986d9.jpg', '五只羊牧业一周羊奶免费领取。',()=>{\r\n\r\n                    this.$dialog.toast({\r\n                        mes: '分享成功！',\r\n                        timeout: 1500,\r\n                        icon: 'success'\r\n                    });\r\n                    this.$api.getTurnSharenum({itemid:id},res => {\r\n                        if (res.status) {                   \r\n                            this.getTurnDrawnum(); \r\n                            this.cnum = this.cnum + 1;\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n        },\r\n        \r\n        // 获取转盘抽奖次数\r\n        getTurnDrawnum () {\r\n            const {params:{id}} = this.$route;\r\n            this.$api.getTurnDrawnum({id:id}, res => {\r\n                if (res.status) {                    \r\n                    this.cnum = res.data.freeCount;\r\n                }\r\n            })\r\n        },\r\n        // 获取商品参数信息\r\n        goodsParams () {\r\n            this.getTurnDrawnum();\r\n            const {params:{id}} = this.$route;\r\n            const _this = this;\r\n            this.$api.getTurntableDetail({id:id}, res => {\r\n                \r\n                if (res.status) {\r\n                    _this.items = _this.items.map((r,i)=>(res.config.coupon[i] ? res.config.coupon[i] : r ));\r\n                }\r\n                _this.itemConfig = res;\r\n                _this.weixinConfig();\r\n            })\r\n        },\r\n        setQuanClass(index){\r\n            let ret = {}\r\n            ret[`li${index}`] = true;\r\n            ret[this.animation === index ? \"active\" : \"item\" ] = true;\r\n            return ret;\r\n        },\r\n        animationOpen(isOpen=true){\r\n            this.isAnimation = isOpen;\r\n        },\r\n        // 计算抽奖显示\r\n        lowSpeed (key) {   \r\n            let _this = this;\r\n            let index = 1; //当前亮区位置\r\n            let prevIndex = 8; //前一位置\r\n            let Speed = 300;//初始速度\r\n            let Time;//定义对象\r\n            let arr_length = 8;//GetSide(5,5),         //初始化数组\r\n            let EndIndex = 1;//决定在哪一格变慢\r\n            let cycle = 0;//转动圈数   \r\n            let EndCycle = 3;//计算圈数\r\n            let flag = false;//结束转动标志\r\n            let random_num = 1;//中奖数\r\n            let quick = 0;//加速                   \r\n            \r\n            \r\n            const StartGame = ()=>{\r\n                // $(\"#random_box li\").removeClass(\"random_current\"); //取消选中\r\n                this.animation = false;\r\n                //random_num = parseInt($(\"#txtnum\").val());//\r\n                random_num = key; //产出随机中奖数2--12之间\r\n                index=1; //再来一次,从1开始\r\n                cycle=0;\r\n                flag=false;\r\n                //EndIndex=Math.floor(Math.random()*12);\r\n                if(random_num>5) {\r\n                EndIndex = random_num - 5; //前5格开始变慢\r\n                } else {\r\n                EndIndex = random_num + 8 - 5; //前5格开始变慢\r\n                }\r\n                //EndCycle=Math.floor(Math.random()*3);\r\n                Time = setInterval(Star,Speed);\r\n            \r\n            }\r\n            const Star = (num)=>{\r\n                //跑马灯变速\r\n                if(flag==false){\r\n                //走五格开始加速\r\n                if(quick==5){\r\n                    clearInterval(Time);\r\n                    Speed=50;\r\n                    Time=setInterval(Star,Speed);\r\n                }\r\n                //跑N圈减速\r\n                if(cycle==EndCycle+1 && index-1==EndIndex){\r\n                clearInterval(Time);\r\n                    Speed=300;\r\n                    flag=true;         //触发结束\r\n                    Time=setInterval(Star,Speed);\r\n                }\r\n                }\r\n            \r\n                if(index>arr_length){\r\n                    index=1;\r\n                    cycle++;\r\n                }\r\n            \r\n                //结束转动并选中号码\r\n                if(flag==true && index==parseInt(random_num)){ \r\n                    quick=0;\r\n                    clearInterval(Time);\r\n                    _this.cnum = _this.cnum - 1;    \r\n                    _this.showItem = _this.items[index-1];\r\n                    if(_this.items[index-1] && _this.items[index-1].id){ \r\n                        setTimeout(()=>{    \r\n                        _this.isShowPopup = true;\r\n                        },1000)                   \r\n                    }\r\n                   \r\n                }\r\n                this.animation = index;//设置当前选中样式\r\n                // $(\"#random_\"+index).addClass('random_current'); //设置当前选中样式\r\n                if(index>1)\r\n                    prevIndex=index-1;\r\n                else{\r\n                    prevIndex=arr_length;\r\n                }\r\n                // $(\"#random_\"+prevIndex).removeClass('random_current'); //取消上次选择样式 \r\n                index++;\r\n                quick++;\r\n            }\r\n\r\n            StartGame();\r\n\r\n        },\r\n        isLowSpeed(data){\r\n            let ret = data === 0 ? (this.items.map((r,k)=>r.id ? false : k).filter(r=>r)[0] + 1 ) : (this.items.map((r,k)=>r.id === data ? k : false).filter(r=>r)[0] + 1 );\r\n            \r\n            return ret;  \r\n        },\r\n        handleClickStart(){\r\n            // if(this.cnum===0){\r\n            //     return false;\r\n            // }\r\n            let isItem = this.items.map(r=>r.id ? r : false).filter(r=>r);\r\n            if(!isItem[0]){\r\n                    this.$dialog.toast({\r\n                    mes: '活动未开放',\r\n                    timeout: 1500\r\n                });\r\n                return false;\r\n            }\r\n            this.animationOpen();\r\n            const {params:{id}} = this.$route;\r\n            this.$api.getTurntableResult({id:id}, res => {  \r\n                \r\n                if(res.data.length === 0){\r\n                    this.$dialog.toast({\r\n                        mes: res.msg,\r\n                        timeout: 1500\r\n                    });\r\n                    return false;\r\n                }\r\n                if (res.status && res.data.length !== 0) {                     \r\n                    this.lowSpeed(this.isLowSpeed(res.data));\r\n                }else{\r\n                    this.$dialog.toast({\r\n                        mes: '分享\"幸运大转盘\"个朋友还可以获得一次抽奖机会哦！',\r\n                        timeout: 1500\r\n                    });\r\n                    this.animationOpen(false);\r\n                }\r\n            })\r\n        },\r\n        openLuckDraw(){\r\n            this.$router.push({path: `/coupon`})\r\n        },\r\n        getRotaryItem(){\r\n            this.$api.getTurntableMsg({}, res => {                \r\n                if (res.status) {   \r\n                    this.rotaryMsg = res.data;\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n    .rotary_layer{\r\n    width: 100vw; height:calc(100vh - 1rem) ; overflow-y: auto;    background: rgb(248,84,82);\r\n    \r\n    }\r\n    .rotary_layer .layer_bg{\r\n        background:url(../../../static/image/rotary/bg.png) no-repeat center top rgb(248,84,82); background-size: 100% auto;height: calc(100vh - 1rem);\r\n    }\r\n    .rotary_layer .center{\r\n    width: 90%;  background: rgba(255,255,255,.15); margin: auto; border-radius: 10px; position: relative;z-index: 5; top: 20%;\r\n    }\r\n    .rotary_layer .center .name{ line-height: .8rem; text-align: center; color: #fff; font-size: .3rem; width: 100%;}\r\n    .rotary_layer .center .but{ \r\n        position:absolute; left: 33%; top:1.85rem; width: 33%; z-index: 50;\r\n    }\r\n    .rotary_layer .center .but p{ margin: 0 .15rem;\r\n     background:url(../../../static/image/rotary/btn.png);height: 1.5rem; color: rgb(239,79,79); box-shadow: 0 2px 1px rgba(0,0,0,.1),inset 0px -5px 0px 0px rgba(0,0,0,.05);border-radius: 5px; }\r\n    .rotary_layer .center .but p span{ display: block; font-size: .4rem; color: rgb(239,79,79); padding-top: .25rem;}\r\n    .rotary_layer .ullit{\r\n    background: url(../../../static/image/rotary/centerbg.png) no-repeat center center; background-size: 100% 100%; margin: 0 .2rem; padding-top: .15rem;\r\n    position: relative; z-index: 0; border-radius: 10px; overflow: hidden;\r\n\r\n    }\r\n    .rotary_layer .ullit::after{ content: \"\"; clear: both; overflow: hidden; height: 0; display: block;}\r\n    .rotary_layer .ullit li{ width: 33%; float: left; padding-bottom: .2rem; position: relative; z-index: 5; }\r\n    .rotary_layer .ullit li .cen{background:#fff; height: 1.5rem; box-shadow: 0 2px 1px rgba(0,0,0,.1); margin: 0 .1rem; border-radius: 5px; overflow: hidden; }\r\n    .rotary_layer .ullit li.li5{ margin-left: 33%; left: 0%; top: 1.7rem; } \r\n    .rotary_layer .ullit li.li4{ left: 66%;}\r\n    .rotary_layer .ullit li.li6,.rotary_layer .ullit li.li7{ float: right; left: -33.5%;}\r\n    .rotary_layer .ullit li.li6{ left: -33.8%;}\r\n    .rotary_layer .ullit li.li8{ top: -1.7rem;}\r\n    .rotary_layer .ullit li .quan{ \r\n        display: block; background:url(../../../static/image/rotary/quan.png) center center no-repeat;\r\n        margin-top: .1rem;\r\n        background-size: 80% 100%;\r\n        color: #fff; height: .8rem; text-align: center;font-size: .15rem; line-height: .3rem;padding-top: .15rem;position: relative ; z-index: 0; \r\n        }\r\n    .rotary_layer .ullit li .quan2{\r\n        display: block;margin-top: .1rem;height: .8rem; text-align: center;position: relative ; z-index: 0; line-height: .8rem;\r\n        color: rgba(247,112,109,.5);\r\n    }\r\n    .rotary_layer .ullit li .quan2 .myfont{ font-size: .8rem;}\r\n    .rotary_layer .ullit li .quan span{ display: block; font-size: .25rem;  height: .3rem;\r\n        font-weight: lighter;white-space: nowrap;text-overflow: ellipsis; margin:0 10%; text-align: center; }\r\n    .rotary_layer .ullit li .title{ line-height: .6rem; font-size: .3rem;}\r\n    .rotary_layer .ullit li.active{\r\n        z-index: 20;\r\n    }\r\n    .rotary_layer .ullit.active::before{\r\n        content: \"\"; width: 100%; height: 100%; position:absolute; left: 0; top: 0; z-index: 8; background: #000; opacity: .1; display: block;\r\n    }\r\n    .rotary_layer .hr{\r\n        height: .2rem;overflow: hidden;\r\n    }\r\n    .rotary_layer .introduce{ margin-bottom: 10px;\r\n         background: rgba(255,255,255,.15);  color: rgba(255,255,255,.8); position: relative; top: 23%; width: 90%; margin: auto; border-radius: 10px; text-align: left;padding-bottom: .3rem;\r\n    }\r\n    .rotary_layer .introduce dt{ line-height: .5rem; padding:.2rem .2rem 0 .2rem; font-size: .3rem; }\r\n    .rotary_layer .introduce dd{ line-height: .4rem; padding:0 .2rem;}\r\n    .popup_layer{ background: url(../../../static/image/rotary/box.png) no-repeat center top; background-size: 100% auto;width: 100vw; height: 75vh;}\r\n    .popup_layer .quan_name{ padding-top: 35vh; font-size: .6rem; color: rgb(239,79,79);}\r\n    .popup_layer .quan_center{\r\n        color: #fff; padding-top:.6rem;\r\n    }\r\n    .popup_layer .quan_center span{ font-size: .6rem; display: block; margin:0 35%; overflow: hidden; height: .8rem;}\r\n    .popup_layer .quan_msg{ padding-top:1rem; color: #999;}\r\n    .popup_layer .btn{ text-align: center; padding-top: .3rem;}\r\n    .popup_layer .btn button{ background: rgb(253,222,102); text-align: center; color: rgb(239,79,79); border-radius: 20px; padding:.1rem .4rem; color: #fff; font-size: .35rem; border:0;}\r\n    .popup_layer .btn button:hover{ background: rgb(253, 219, 87);}\r\n    div.yd-rollnotice{ background: none;}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/activity/RotaryDraw.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rotary_layer\"},[_c('div',{staticClass:\"layer_bg\"},[_c('div',{staticClass:\"center\"},[_c('yd-rollnotice',{staticStyle:{\"background-color\":\"none\"},attrs:{\"autoplay\":\"2000\"}},_vm._l((_vm.rotaryMsg),function(item,index){return _c('yd-rollnotice-item',{key:index},[_c('div',{staticClass:\"name\"},[_vm._v(\"恭喜\"+_vm._s(item.nickname)+\"中奖\")])])}),1),_vm._v(\" \"),_c('ul',{class:{'ullit':true,'active':_vm.isAnimation}},[_c('div',{staticClass:\"but\",on:{\"click\":_vm.handleClickStart}},[_c('p',[_c('span',[_vm._v(\"抽奖\")]),_vm._v(\"\\n                    \"+_vm._s(_vm.cnum)+\"次免费抽奖\\n                \")])]),_vm._v(\" \"),_vm._l((_vm.items),function(item,index){return _c('li',{key:index,class:_vm.setQuanClass(index+1)},[(item && item.id)?_c('div',{staticClass:\"cen\"},[_c('div',{staticClass:\"quan\"},[_c('span',[_vm._v(_vm._s(item.expression2))]),_vm._v(\"\\n                        \"+_vm._s(item.expression1)+\"\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.showPresult(item.presult[0])))])]):_vm._e(),_vm._v(\" \"),(!item || !item.id)?_c('div',{staticClass:\"cen\"},[_vm._m(0,true),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"谢谢参与\")])]):_vm._e()])})],2),_vm._v(\" \"),_c('div',{staticClass:\"hr\"})],1),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('yd-popup',{attrs:{\"position\":\"center\",\"width\":\"100%\",\"height\":\"100%\"},model:{value:(_vm.isShowPopup),callback:function ($$v) {_vm.isShowPopup=$$v},expression:\"isShowPopup\"}},[_c('div',{staticClass:\"popup_layer\"},[_c('div',{staticClass:\"quan_name\"},[_vm._v(_vm._s(_vm.showItem.name))]),_vm._v(\" \"),_c('div',{staticClass:\"quan_center\"},[_c('span',[_vm._v(_vm._s(_vm.showItem.expression2))]),_vm._v(\"\\n                \"+_vm._s(_vm.showItem.expression1)+\"\\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"quan_msg\"},[_vm._v(\"请到【个人中心-我的优惠券】查看\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('button',{on:{\"click\":_vm.openLuckDraw}},[_vm._v(\"点击查看\")])])])])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"quan2\"},[_c('i',{staticClass:\"myfont my-xiexiecanyu\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dl',{staticClass:\"introduce\"},[_c('dt',[_vm._v(\"抽奖规则\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"这里是抽奖需要具备的条件，没人一天消费一次，获得一次免费抽奖机会，第二次可用积分兑换抽奖机会，抽奖越多，获得的抵用券折扣券就越多，折扣券可用来购买指定商品。\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1737dc2b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/activity/RotaryDraw.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1737dc2b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RotaryDraw.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RotaryDraw.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RotaryDraw.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1737dc2b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RotaryDraw.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/activity/RotaryDraw.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}